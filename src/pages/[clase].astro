---
import { CLASES } from "../consts"
import InfoProject from "../components/InfoProject.astro"
import Layout from "../layouts/Layout.astro"
import Footer from "../components/Footer.astro"

export function getStaticPaths() {
  return CLASES.map((clase) => {
    return {
      params: {
        clase: clase.slug,
      },
    }
  })
}

const { clase } = Astro.params
const index = CLASES.findIndex((p) => p.slug === clase)
const info = CLASES[index]
const number = `${index + 1}`.padStart(2, "0")
---

<Layout title={`Clase Curso React - ${number}: ${info.title}`}>
  <div class="mt-10 grid grid-cols-1 xl:grid-cols-[1fr_500px]">
    <section class="w-full p-12 flex justify-center flex-col h-auto">
      <iframe
        class="w-full aspect-video h-auto"
        width="560"
        height="315"
        src={`https://www.youtube.com/embed/${info.id}?si=CPcKbkZpO_sQo5qd&autoplay=1`}
        title={`Clase ${info.title}`}
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin"
        allowfullscreen></iframe>
      <h1
        class:list={[
          "font-semibold animate-fade-in animate-delay-300 mt-2 text-3xl mt-4 tracking-tighter",
        ]}
      >
        {info.title}
      </h1>

      <div class="py-2">
        <p class="mt-3 mb-4 font-light text-gray-800">
          {info.description}
        </p>
        <ul class="inline-flex flex-wrap gap-2">
          {
            info.learnings.map((learning) => (
              <li class="text-xs font-light text-gray-600 bg-gray-100 px-2 py-1 rounded-full">
                {learning}
              </li>
            ))
          }
        </ul>
        <ul class="flex flex-wrap gap-2 mt-4">
          <li>
            <a
              href={info.code}
              target="_blank"
              rel="noopener noreferrer"
              class="inline-flex items-center justify-center px-3 py-2 text-xs font-semibold text-center text-black bg-white transition border border-black/60 rounded-lg hover:bg-black/10 md:text-sm"
            >
              <svg
                class="w-6 h-6 mr-1"
                fill="currentColor"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  fill-rule="evenodd"
                  d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                  clip-rule="evenodd"></path>
              </svg>
              Código
            </a>
          </li>
          <li>
            <a
              target="_blank"
              rel="noopener"
              href="https://youtube.com/midulive?sub_confirmation=1"
              class="inline-flex items-center justify-center px-3 py-2 text-xs font-semibold text-center text-black bg-white transition border border-[#c4302b] rounded-lg md:px-4 md:py-2 hover:bg-[#ffc8c6] md:text-sm"
              ><svg
                class="w-6 h-6 mr-2"
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 28.57 20"
                ><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28.57 20"
                  ><path
                    fill="red"
                    d="M27.9727 3.12324C27.6435 1.89323 26.6768.926623 25.4468.597366 23.2197 2.2e-7 14.285 0 14.285 0S5.35042 2.2e-7 3.12323.597366C1.89323.926623.926623 1.89323.597366 3.12324 2.2e-7 5.35042 0 10 0 10s2.2e-7 4.6496.597366 6.8768c.329257 1.23 1.295864 2.1966 2.525864 2.5258C5.35042 20 14.285 20 14.285 20s8.9347 0 11.1618-.5974c1.23-.3292 2.1967-1.2958 2.5259-2.5258.5974-2.2272.5974-6.8768.5974-6.8768s-.0024-4.64958-.5974-6.87676Z"
                  ></path><path
                    fill="#fff"
                    d="m11.4253 14.2854 7.4224-4.285-7.4224-4.28507v8.57007Z"
                  ></path></svg
                ></svg
              >Sígueme en YouTube</a
            >
          </li>
          <li>
            <a
              href="https://twitch.tv/midudev"
              target="_blank"
              rel="noopener"
              class="inline-flex items-center justify-center px-3 py-2 text-xs font-semibold text-center text-black transition bg-white rounded-lg md:px-4 md:py-2 hover:bg-[#d1b9ff] md:text-sm border border-[#874af6]"
            >
              <svg
                class="w-6 h-6 mr-1"
                xmlns="http://www.w3.org/2000/svg"
                width="118"
                height="138"
                viewBox="0 0 118 138"
                ><g fill="none" fill-rule="evenodd"
                  ><path
                    fill="#FFF"
                    d="m107.8058 63.7036-19.602 19.601h-19.6l-17.152 17.151v-17.151h-22.05V9.8006h78.404z"
                  ></path><path
                    fill="#9146FF"
                    d="M117.605 0v68.605l-44.102 44.099H53.904l-24.503 24.503v-24.503H0V24.502L24.5 0h93.105Zm-9.8 9.801H29.401v73.503h22.051v17.15l17.153-17.15h19.601l19.599-19.601V9.801ZM93.1042 26.9518v29.4h-9.8v-29.4h9.8Zm-26.951 0v29.4h-9.8v-29.4h9.8Z"
                  ></path></g
                ></svg
              >Sígueme en Twitch</a
            >
          </li>
          <li>
            <a
              href="https://discord.gg/midudev"
              target="_blank"
              rel="noopener"
              class="inline-flex items-center justify-center px-3 py-2 text-xs font-semibold text-center text-black transition bg-white rounded-lg md:px-4 md:py-2 hover:bg-[#5865F2]/20 md:text-sm border border-[#5865F2]"
            >
              <svg
                class="size-6 mr-1"
                xmlns="http://www.w3.org/2000/svg"
                width="800"
                height="800"
                preserveAspectRatio="xMidYMid"
                viewBox="0 -28.5 256 256"
                ><path
                  fill="#5865F2"
                  d="M216.856339 16.5966031C200.285002 8.84328665 182.566144 3.2084988 164.041564 0c-2.275041 4.11318106-4.93294 9.64549908-6.765465 14.0464379-19.692104-2.9614483-39.203132-2.9614483-58.5330827 0C96.9108417 9.64549908 94.1925838 4.11318106 91.8971895 0 73.3526068 3.2084988 55.6133949 8.86399117 39.0420583 16.6376612 5.61752293 67.146514-3.4433191 116.400813 1.08711069 164.955721c22.16890891 16.555194 43.65325271 26.611976 64.77502181 33.192855 5.2150826-7.17745 9.8662303-14.807241 13.8730814-22.848315-7.6311949-2.899686-14.9402415-6.478059-21.8464273-10.632298 1.8321746-1.357374 3.6243438-2.776511 5.3558032-4.236706 42.1228202 19.70193 87.8903382 19.70193 129.5099332 0 1.751813 1.460195 3.543631 2.879332 5.355803 4.236706-6.926539 4.174593-14.255589 7.752966-21.886784 10.653002 4.006851 8.02037 8.637996 15.670866 13.873082 22.847965 21.142122-6.580879 42.646399-16.637311 64.815325-33.213209 5.315798-56.28752-9.080862-105.0894778-38.05561-148.3591179ZM85.4738752 135.09489c-12.6448471 0-23.0146535-11.804735-23.0146535-26.179989 0-14.3752538 10.1483733-26.2003423 23.0146535-26.2003423 12.8666312 0 23.2360868 11.804384 23.0146538 26.2003423.020002 14.375254-10.1480226 26.179989-23.0146538 26.179989Zm85.0513618 0c-12.644847 0-23.014653-11.804735-23.014653-26.179989 0-14.3752538 10.148022-26.2003423 23.014653-26.2003423 12.866281 0 23.236087 11.804384 23.014654 26.2003423 0 14.375254-10.148373 26.179989-23.014654 26.179989Z"
                ></path></svg
              >Entrar a la comunidad de Discord</a
            >
          </li>
        </ul>
      </div>
    </section>
    <aside
      class="flex flex-col md:flex-row lg:flex-col justify-center items-center lg:justify-start"
    >
      <InfoProject info={{ ...info, number }} />

      <ul>
        {
          CLASES.map((clase, index) => {
            const isActive = clase.slug === info.slug
            return (
              <li>
                <a
                  href={clase.slug}
                  aria-disabled={isActive ? "true" : "false"}
                  class:list={[
                    { "pointer-events-none text-sky-800": isActive },
                    "inline-flex items-center justify-center px-3 py-2 text-xs font-semibold text-center text-black bg-white transition rounded-lg hover:bg-sky-100/80 hover:scale-105 md:text-sm",
                  ]}
                >
                  <span class="opacity-30 inline-block mr-1">#{index + 1} - </span> {clase.title}
                </a>
              </li>
            )
          })
        }
      </ul>
    </aside>
  </div>
  <Footer />

  <style>
    iframe {
      border-radius: 8px;
      overflow: hidden;
    }
  </style>
</Layout>
